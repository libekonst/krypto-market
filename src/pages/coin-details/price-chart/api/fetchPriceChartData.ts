import { ChartDurationIncrements } from '../ChartDurationIncrements';
import { mapDurationIncrementToDaysParam } from './mapDurationIncrementToAPIParam';
import { mapToPriceChartEntries } from './mapToPriceChartEntries';
import { PriceChartAPIResponse } from './PriceChartAPIResponse';

const BASE_URL = `https://api.coingecko.com/api/v3/coins`;
const TARGET_CURRENCY = 'usd';

export const fetchPriceChartData = async (
  coinId: string,
  increment: ChartDurationIncrements
) => {
  const days = mapDurationIncrementToDaysParam(increment);

  const url = `${BASE_URL}/${coinId}/market_chart?vs_currency=${TARGET_CURRENCY}&days=${days}`;
  const res = await fetch(url);
  const data: PriceChartAPIResponse = await res.json();

  // await delay(400);

  return mapToPriceChartEntries(data);
};

const delay = (ms: number) => new Promise(resolve => setTimeout(resolve, ms));

const mockData: PriceChartAPIResponse = {
  prices: [
    [1638178812927, 57294.84618703533],
    [1638178995252, 57282.68611057524],
    [1638179332223, 57042.29024136887],
    [1638179573758, 57013.93549029511],
    [1638179866370, 56639.66552691411],
    [1638180207487, 56804.40198297415],
    [1638180624310, 56807.83743507603],
    [1638180842741, 56978.035463243454],
    [1638181186462, 57116.32229202999],
    [1638181483682, 57114.33691236606],
    [1638181843807, 57251.04930918753],
    [1638182058071, 57344.696662807546],
    [1638182412289, 57516.83842150233],
    [1638182722761, 57421.40696292244],
    [1638182898914, 57206.48407581106],
    [1638183268847, 57280.551871676835],
    [1638183626302, 57202.46845749004],
    [1638183869610, 57246.837178455964],
    [1638184196435, 57225.93658300754],
    [1638184494403, 57242.71257423223],
    [1638184643596, 57222.44844896856],
    [1638185062468, 57216.14201139839],
    [1638185348065, 57191.825287762695],
    [1638185516294, 57154.759816240796],
    [1638185946242, 57187.78118462681],
    [1638186280547, 57105.49491923761],
    [1638186431075, 57091.16724021701],
    [1638186850789, 57077.961505204665],
    [1638187130934, 57006.77544044273],
    [1638187453175, 56993.31661916087],
    [1638187673274, 56966.175953622056],
    [1638188019621, 56968.39514841008],
    [1638188337980, 56954.27344756627],
    [1638188689098, 56909.11373202437],
    [1638188885379, 56955.02672224504],
    [1638189189020, 56960.7399691864],
    [1638189555626, 56983.39377681439],
    [1638189729686, 57040.60128873527],
    [1638190073939, 57029.77415476211],
    [1638190419265, 56998.081764095026],
    [1638190791658, 56977.89811119984],
    [1638190961726, 56997.514075178544],
    [1638191285098, 57016.43332171989],
    [1638191685153, 57207.018336066845],
    [1638191994800, 57398.442225458806],
    [1638192279001, 57423.06345816206],
    [1638192621488, 57255.810151165446],
    [1638192840494, 57163.97365334713],
    [1638193141079, 57062.62492369924],
    [1638193477622, 57199.16182546128],
    [1638193816713, 57460.05454450485],
    [1638194086004, 57435.79562758194],
    [1638194388230, 57449.09594212058],
    [1638194575604, 57407.66799722344],
    [1638194944052, 57290.89188561451],
    [1638195277672, 57306.0820934721],
    [1638195614181, 57258.24098900639],
    [1638195854118, 57255.477594594435],
    [1638196191212, 57239.24656102087],
    [1638196492547, 57197.71795921447],
    [1638196676906, 57092.09642533746],
    [1638197100749, 57084.6627948194],
    [1638197395427, 57024.22131673766],
    [1638197548502, 56954.06292185945],
    [1638197975268, 56963.957715221106],
    [1638198276554, 56919.38319780169],
    [1638198635080, 56828.27608242077],
    [1638198856297, 56831.90993214145],
    [1638199181869, 56806.35636735723],
    [1638199347508, 56867.11451962538],
    [1638199729422, 56988.759883254526],
    [1638200055645, 56968.77856388276],
    [1638200360969, 56927.25734199489],
    [1638200519821, 56994.7301220766],
    [1638201018503, 56947.24344990429],
    [1638201195412, 56974.381012876154],
    [1638201503291, 57148.62909802838],
    [1638201869763, 57179.30673299586],
    [1638202159166, 57192.350845568166],
    [1638202473190, 57240.43789828571],
    [1638202792571, 57200.020232785944],
    [1638203110138, 57157.22565149728],
    [1638203284495, 57186.38086712795],
    [1638203688155, 57163.61444463316],
    [1638203963502, 57185.22341898745],
    [1638204259893, 57266.33074173384],
    [1638204596241, 57307.44022564853],
    [1638204867173, 57339.650278278496],
    [1638205140877, 57466.545583280385],
    [1638205316996, 57578.19543228426],
    [1638205712710, 57618.01658700369],
    [1638205975021, 57678.93313025203],
    [1638206418900, 58313.262489450244],
    [1638206639412, 58881.16783089805],
    [1638206898882, 58736.131608507356],
    [1638207235821, 58929.799783809],
    [1638207573240, 58744.320201738876],
    [1638207864906, 58805.98211602807],
    [1638208154711, 58839.18675701751],
    [1638208470125, 58685.39811221181],
    [1638208740756, 58661.388074148184],
    [1638208865556, 58654.57536307804],
    [1638209303595, 58557.28354553708],
    [1638209631758, 58642.71258739079],
    [1638209957186, 58592.91467566556],
    [1638210152717, 58623.63968032029],
    [1638210501883, 58731.01225006494],
    [1638210827628, 58614.091216978566],
    [1638211193020, 58727.727026818146],
    [1638211400860, 58733.04295299927],
    [1638211832238, 58693.603698442894],
    [1638212029118, 58697.69182064863],
    [1638212382126, 58778.0924486182],
    [1638212531910, 58767.952397825786],
    [1638212925467, 58657.28382857841],
    [1638213314515, 58328.09326228643],
    [1638213596993, 58341.73444924341],
    [1638213771087, 58302.51134578955],
    [1638214109044, 58327.93299586386],
    [1638214459760, 58277.610346430854],
    [1638214775865, 58230.183123079514],
    [1638214929040, 58172.85398842435],
    [1638215383211, 57985.225112472894],
    [1638215557970, 57984.46322242452],
    [1638215864609, 57922.438795418915],
    [1638216261698, 57952.1061382165],
    [1638216571484, 57909.71970649489],
    [1638216768397, 57956.907626149376],
    [1638217145092, 57972.96921173192],
    [1638217433306, 57965.99393079864],
    [1638217645000, 57983.0642768122],
    [1638218046106, 58013.58237178127],
    [1638218342910, 58020.99303569482],
    [1638218664453, 58082.54923989856],
    [1638218982782, 58249.39578637582],
    [1638219254229, 58219.99509974131],
    [1638219540638, 58238.01156994982],
    [1638219705138, 58127.02888188797],
    [1638220250925, 58183.81206905971],
    [1638220426179, 58198.745223824735],
    [1638220767672, 58312.93855089274],
    [1638221085063, 58367.45912842758],
    [1638221390491, 58436.73575178056],
    [1638221575782, 58445.647898750285],
    [1638221912254, 58311.589635908],
    [1638222163215, 58312.959352929494],
    [1638222501021, 58233.71331687961],
    [1638222846724, 58283.13172930181],
    [1638223110257, 58298.74370446868],
    [1638223453018, 58302.102316668526],
    [1638223792474, 58384.8783426452],
    [1638223967508, 58469.59943897289],
    [1638224262521, 58399.848267860936],
    [1638224637471, 58290.992156571374],
    [1638224967231, 58245.55303640739],
    [1638225323173, 58191.8637095109],
    [1638225524702, 58198.66503191086],
    [1638225812112, 58196.39725486131],
    [1638226248608, 58156.53433024812],
    [1638226454036, 58161.90431463039],
    [1638226755183, 58132.109111220765],
    [1638227066045, 58092.1800820662],
    [1638227260483, 57976.559745813116],
    [1638227616232, 57967.45517298723],
    [1638228051225, 57901.36746128994],
    [1638228250205, 58006.91459741715],
    [1638228570102, 57991.976915565836],
    [1638228869325, 57989.837565231486],
    [1638229048653, 57982.74202527849],
    [1638229401062, 57950.8941769612],
    [1638229693556, 57913.240535448036],
    [1638229980375, 57869.47424259653],
    [1638230317695, 57848.77353712989],
    [1638230667884, 57759.580915871185],
    [1638231009935, 57764.2458025896],
    [1638231227767, 57831.55824253015],
    [1638231565478, 57888.39827794075],
    [1638231837237, 57885.263618272365],
    [1638232178222, 57965.82955907511],
    [1638232542177, 57914.6657630232],
    [1638232812637, 57866.34553942668],
    [1638233015235, 57732.7825605336],
    [1638233369460, 57600.115409526734],
    [1638233689319, 57612.19264732256],
    [1638233954292, 57673.01720358286],
    [1638234119873, 57661.80863654654],
    [1638234529484, 57741.84559176321],
    [1638234799605, 57762.06252361569],
    [1638235066253, 57575.767739942],
    [1638235468627, 57441.7143078263],
    [1638235728102, 57278.26106208309],
    [1638236075233, 57155.18488049175],
    [1638236289226, 57192.822162165096],
    [1638236573405, 57208.796659951695],
    [1638237004610, 57337.48957792713],
    [1638237184616, 57321.52356456439],
    [1638237623883, 57264.75613411526],
    [1638237790668, 57343.357936784916],
    [1638238162291, 57524.482802670434],
    [1638238477838, 57574.13208052839],
    [1638238769240, 57579.56344772186],
    [1638239105560, 57509.075148927855],
    [1638239295412, 57468.681932976186],
    [1638239623065, 57457.49268110062],
    [1638239951872, 57417.119679774565],
    [1638240140079, 57380.799948226144],
    [1638240587363, 57378.55468293632],
    [1638240751731, 57372.449417783115],
    [1638241249745, 57383.99477205407],
    [1638241389012, 57387.03442438007],
    [1638241828542, 57346.725133063796],
    [1638242036885, 57334.3537339326],
    [1638242454104, 57316.1125449754],
    [1638242660169, 57296.50172372148],
    [1638242996437, 57283.28704825988],
    [1638243316327, 57221.661321715015],
    [1638243596021, 57122.45910858991],
    [1638243751379, 56892.06749864382],
    [1638244071826, 56838.74091347395],
    [1638244358602, 56820.546178101446],
    [1638244653056, 56914.92749035433],
    [1638245031310, 56981.51767386086],
    [1638245353909, 57084.25224552745],
    [1638245671919, 57198.605018857226],
    [1638245984392, 57217.24410835367],
    [1638246153176, 57204.266799304365],
    [1638246620697, 57135.545026542946],
    [1638246816564, 57150.44425951055],
    [1638247132623, 57135.71167082506],
    [1638247438511, 57097.63793726548],
    [1638247741445, 57136.93097042275],
    [1638248048180, 57106.36494318458],
    [1638248350946, 57085.760293706786],
    [1638248513167, 57101.36738608963],
    [1638248940017, 57237.9975475584],
    [1638249140620, 57246.321256678966],
    [1638249494378, 57212.43835802938],
    [1638249853242, 57091.05197631117],
    [1638250181044, 56948.15330150226],
    [1638250355326, 56898.603554945854],
    [1638250722404, 56917.22056382058],
    [1638251060824, 56813.23818515407],
    [1638251379288, 56603.48779030376],
    [1638251656150, 56634.952087791586],
    [1638251947740, 56454.03820834856],
    [1638252070176, 56421.62794257708],
    [1638252631153, 56185.041487157454],
    [1638252847729, 56216.39088260346],
    [1638253159415, 56157.58296726435],
    [1638253495849, 56182.32082958874],
    [1638253801172, 56191.982633370106],
    [1638254009827, 56390.456369817795],
    [1638254334257, 56429.91978473943],
    [1638254641588, 56484.04949116906],
    [1638254811837, 56476.38072105554],
    [1638255223715, 56531.0924296949],
    [1638255487686, 56542.0397393746],
    [1638255897103, 56665.02538002482],
    [1638256080188, 56684.60498793475],
    [1638256380158, 56809.66826847078],
    [1638256717814, 56727.43492997633],
    [1638257091354, 56620.447735571935],
    [1638257361532, 56620.56834733747],
    [1638257695535, 56549.20280126223],
    [1638258015241, 56478.38599416235],
    [1638258301336, 56432.59281458187],
    [1638258541248, 56414.28769195734],
    [1638258860751, 56422.49851429082],
    [1638259163326, 56523.26076275895],
    [1638259469807, 56571.89642348137],
    [1638259808478, 56552.45361381073],
    [1638260006991, 56524.6565215798],
    [1638260315352, 56508.93012321225],
    [1638260643426, 56454.32589900101],
    [1638260978985, 56510.68508657679],
    [1638261295765, 56512.99686024384],
    [1638261575312, 56644.39144808439],
    [1638261784984, 56659.208205931885],
    [1638262125904, 57000.08165945925],
    [1638262412039, 57111.343466902996],
    [1638262724143, 57195.77017992834],
    [1638262995480, 57087.53283811067],
    [1638263251707, 57098.234242693536],
    [1638263561795, 56934.45278280194],
    [1638263972179, 56859.141677806714],
    [1638264301602, 56752.27674226995],
    [1638264467354, 56626.70687678049],
    [1638264852033, 56546.66995657293],
    [1638264983000, 56535.216368466776]
  ],
  market_caps: [
    [1638178812927, 1082446808378.7131],
    [1638178995252, 1082446808378.7131],
    [1638179332223, 1082446808378.7131],
    [1638179573758, 1077326406048.9395],
    [1638179866370, 1069705898767.1152],
    [1638180207487, 1069705898767.1152],
    [1638180624310, 1069705898767.1152],
    [1638180842741, 1069705898767.1152],
    [1638181186462, 1069705898767.1152],
    [1638181483682, 1078490608139.4628],
    [1638181843807, 1079438138309.6715],
    [1638182058071, 1079438138309.6715],
    [1638182412289, 1086274111178.3083],
    [1638182722761, 1086274111178.3083],
    [1638182898914, 1080413099552.5829],
    [1638183268847, 1080413099552.5829],
    [1638183626302, 1080710273742.6525],
    [1638183869610, 1080710273742.6525],
    [1638184196435, 1080780826849.6165],
    [1638184494403, 1080780826849.6165],
    [1638184643596, 1080714949231.6007],
    [1638185062468, 1080714949231.6007],
    [1638185348065, 1080136593900.6954],
    [1638185516294, 1080136593900.6954],
    [1638185946242, 1080060559262.473],
    [1638186280547, 1080060559262.473],
    [1638186431075, 1080060559262.473],
    [1638186850789, 1079280653386.3214],
    [1638187130934, 1079280653386.3214],
    [1638187453175, 1076115184195.4583],
    [1638187673274, 1075876358246.7515],
    [1638188019621, 1075876358246.7515],
    [1638188337980, 1075651906493.5437],
    [1638188689098, 1075651906493.5437],
    [1638188885379, 1075651906493.5437],
    [1638189189020, 1075661199242.7667],
    [1638189555626, 1076203646418.4487],
    [1638189729686, 1076203646418.4487],
    [1638190073939, 1076203646418.4487],
    [1638190419265, 1077031414278.5822],
    [1638190791658, 1077031414278.5822],
    [1638190961726, 1076101278252.2667],
    [1638191285098, 1076829065528.9651],
    [1638191685153, 1076829065528.9651],
    [1638191994800, 1084044543793.336],
    [1638192279001, 1084044543793.336],
    [1638192621488, 1083500129638.9114],
    [1638192840494, 1083500129638.9114],
    [1638193141079, 1077702880223.7096],
    [1638193477622, 1077702880223.7096],
    [1638193816713, 1085532825557.3905],
    [1638194086004, 1085532825557.3905],
    [1638194388230, 1085002641613.6461],
    [1638194575604, 1085002641613.6461],
    [1638194944052, 1082015091182.2811],
    [1638195277672, 1082015091182.2811],
    [1638195614181, 1082002703858.9207],
    [1638195854118, 1082002703858.9207],
    [1638196191212, 1081040043613.0106],
    [1638196492547, 1081040043613.0106],
    [1638196676906, 1078262000427.8292],
    [1638197100749, 1078262000427.8292],
    [1638197395427, 1076980428701.352],
    [1638197548502, 1076980428701.352],
    [1638197975268, 1076980428701.352],
    [1638198276554, 1075842268146.1051],
    [1638198635080, 1075842268146.1051],
    [1638198856297, 1075842268146.1051],
    [1638199181869, 1075842268146.1051],
    [1638199347508, 1074013991188.2769],
    [1638199729422, 1074013991188.2769],
    [1638200055645, 1076213689384.8608],
    [1638200360969, 1075149871445.9628],
    [1638200519821, 1075149871445.9628],
    [1638201018503, 1075450987358.4221],
    [1638201195412, 1075450987358.4221],
    [1638201503291, 1079331468556.5995],
    [1638201869763, 1079331468556.5995],
    [1638202159166, 1080157214663.2827],
    [1638202473190, 1080157214663.2827],
    [1638202792571, 1080302805324.6097],
    [1638203110138, 1080302805324.6097],
    [1638203284495, 1080045206727.2106],
    [1638203688155, 1080045206727.2106],
    [1638203963502, 1080023346691.7051],
    [1638204259893, 1080023346691.7051],
    [1638204596241, 1082332270611.6124],
    [1638204867173, 1082332270611.6124],
    [1638205140877, 1082332270611.6124],
    [1638205316996, 1085337200901.8872],
    [1638205712710, 1088197945593.0851],
    [1638205975021, 1088197945593.0851],
    [1638206418900, 1094770915076.6318],
    [1638206639412, 1094770915076.6318],
    [1638206898882, 1109315896830.9932],
    [1638207235821, 1109315896830.9932],
    [1638207573240, 1109470550132.0474],
    [1638207864906, 1109470550132.0474],
    [1638208154711, 1111263358727.0732],
    [1638208470125, 1111263358727.0732],
    [1638208740756, 1107905372792.9958],
    [1638208865556, 1107905372792.9958],
    [1638209303595, 1105939910506.0112],
    [1638209631758, 1105939910506.0112],
    [1638209957186, 1106613969756.5789],
    [1638210152717, 1106613969756.5789],
    [1638210501883, 1106613969756.5789],
    [1638210827628, 1107015737138.5603],
    [1638211193020, 1109161921224.7253],
    [1638211400860, 1109161921224.7253],
    [1638211832238, 1109213732337.3865],
    [1638212029118, 1109213732337.3865],
    [1638212382126, 1109213732337.3865],
    [1638212531910, 1109921990784.68],
    [1638212925467, 1107832609404.2449],
    [1638213314515, 1107832609404.2449],
    [1638213596993, 1101872976269.4036],
    [1638213771087, 1101872976269.4036],
    [1638214109044, 1101612664659.9036],
    [1638214459760, 1101612664659.9036],
    [1638214775865, 1099767614444.2961],
    [1638214929040, 1099767614444.2961],
    [1638215383211, 1095141549170.6763],
    [1638215557970, 1095141549170.6763],
    [1638215864609, 1095141549170.6763],
    [1638216261698, 1093894792660.2681],
    [1638216571484, 1093894792660.2681],
    [1638216768397, 1093894792660.2681],
    [1638217145092, 1093894792660.2681],
    [1638217433306, 1094601324562.1433],
    [1638217645000, 1095103289668.8269],
    [1638218046106, 1095103289668.8269],
    [1638218342910, 1095819635193.912],
    [1638218664453, 1095819635193.912],
    [1638218982782, 1100133737451.715],
    [1638219254229, 1100133737451.715],
    [1638219540638, 1099919485267.3035],
    [1638219705138, 1099919485267.3035],
    [1638220250925, 1098461276851.2838],
    [1638220426179, 1098461276851.2838],
    [1638220767672, 1101336060882.2183],
    [1638221085063, 1101336060882.2183],
    [1638221390491, 1101336060882.2183],
    [1638221575782, 1103674525906.7808],
    [1638221912254, 1101311284136.0974],
    [1638222163215, 1101311284136.0974],
    [1638222501021, 1099840460420.8042],
    [1638222846724, 1099840460420.8042],
    [1638223110257, 1101069017163.3901],
    [1638223453018, 1101069017163.3901],
    [1638223792474, 1102695813477.9302],
    [1638223967508, 1102695813477.9302],
    [1638224262521, 1102978954284.4026],
    [1638224637471, 1102978954284.4026],
    [1638224967231, 1102978954284.4026],
    [1638225323173, 1101115224203.8337],
    [1638225524702, 1099179271891.5651],
    [1638225812112, 1099179271891.5651],
    [1638226248608, 1098398693970.0901],
    [1638226454036, 1098398693970.0901],
    [1638226755183, 1097922600640.8202],
    [1638227066045, 1097922600640.8202],
    [1638227260483, 1097922600640.8202],
    [1638227616232, 1094985137255.9719],
    [1638228051225, 1094985137255.9719],
    [1638228250205, 1093566104239.3495],
    [1638228570102, 1093566104239.3495],
    [1638228869325, 1095277418363.0789],
    [1638229048653, 1095103001705.2794],
    [1638229401062, 1095103001705.2794],
    [1638229693556, 1093790694979.7329],
    [1638229980375, 1093790694979.7329],
    [1638230317695, 1092574224475.6908],
    [1638230667884, 1092574224475.6908],
    [1638231009935, 1092574224475.6908],
    [1638231227767, 1092574224475.6908],
    [1638231565478, 1092574224475.6908],
    [1638231837237, 1092574224475.6908],
    [1638232178222, 1093900361780.0436],
    [1638232542177, 1094507671993.0762],
    [1638232812637, 1094507671993.0762],
    [1638233015235, 1092906796552.348],
    [1638233369460, 1092906796552.348],
    [1638233689319, 1087879325311.5714],
    [1638233954292, 1087879325311.5714],
    [1638234119873, 1089044856207.999],
    [1638234529484, 1090556495132.3809],
    [1638234799605, 1090556495132.3809],
    [1638235066253, 1090556495132.3809],
    [1638235468627, 1087419822271.5625],
    [1638235728102, 1087419822271.5625],
    [1638236075233, 1081801629070.8243],
    [1638236289226, 1080188306948.7588],
    [1638236573405, 1080188306948.7588],
    [1638237004610, 1082656339010.6201],
    [1638237184616, 1082656339010.6201],
    [1638237623883, 1081507570448.1],
    [1638237790668, 1081507570448.1],
    [1638238162291, 1086453746944.3727],
    [1638238477838, 1086453746944.3727],
    [1638238769240, 1087494044401.814],
    [1638239105560, 1087494044401.814],
    [1638239295412, 1085399846743.8263],
    [1638239623065, 1085399846743.8263],
    [1638239951872, 1084426689476.1206],
    [1638240140079, 1084426689476.1206],
    [1638240587363, 1083699065320.8768],
    [1638240751731, 1083699065320.8768],
    [1638241249745, 1083699065320.8768],
    [1638241389012, 1083803590268.5067],
    [1638241828542, 1083585746133.0288],
    [1638242036885, 1083585746133.0288],
    [1638242454104, 1082985885221.1355],
    [1638242660169, 1082985885221.1355],
    [1638242996437, 1081902625769.3256],
    [1638243316327, 1081902625769.3256],
    [1638243596021, 1078865773080.813],
    [1638243751379, 1078865773080.813],
    [1638244071826, 1073507615758.6912],
    [1638244358602, 1073507615758.6912],
    [1638244653056, 1073507615758.6912],
    [1638245031310, 1074946885507.1382],
    [1638245353909, 1078144906241.5659],
    [1638245671919, 1078144906241.5659],
    [1638245984392, 1080657054356.9943],
    [1638246153176, 1080657054356.9943],
    [1638246620697, 1080657054356.9943],
    [1638246816564, 1079115096563.7098],
    [1638247132623, 1079118243962.7676],
    [1638247438511, 1079118243962.7676],
    [1638247741445, 1079118243962.7676],
    [1638248048180, 1079141272790.1376],
    [1638248350946, 1078175500778.9034],
    [1638248513167, 1078175500778.9034],
    [1638248940017, 1078175500778.9034],
    [1638249140620, 1078175500778.9034],
    [1638249494378, 1078175500778.9034],
    [1638249853242, 1080152816250.062],
    [1638250181044, 1075578347701.6406],
    [1638250355326, 1075578347701.6406],
    [1638250722404, 1074994121858.3652],
    [1638251060824, 1074994121858.3652],
    [1638251379288, 1069068658808.2723],
    [1638251656150, 1069068658808.2723],
    [1638251947740, 1066246008290.124],
    [1638252070176, 1066246008290.124],
    [1638252631153, 1061165811052.1545],
    [1638252847729, 1061165811052.1545],
    [1638253159415, 1060647539454.1432],
    [1638253495849, 1060647539454.1432],
    [1638253801172, 1060647539454.1432],
    [1638254009827, 1061298313148.357],
    [1638254334257, 1065792233553.8923],
    [1638254641588, 1065792233553.8923],
    [1638254811837, 1065792233553.8923],
    [1638255223715, 1066909323544.6057],
    [1638255487686, 1067909843809.8065],
    [1638255897103, 1067909843809.8065],
    [1638256080188, 1070602474514.7535],
    [1638256380158, 1070602474514.7535],
    [1638256717814, 1071411744251.6821],
    [1638257091354, 1071411744251.6821],
    [1638257361532, 1071411744251.6821],
    [1638257695535, 1069393693546.3931],
    [1638258015241, 1066683866396.9388],
    [1638258301336, 1066683866396.9388],
    [1638258541248, 1066683866396.9388],
    [1638258860751, 1065498061995.1906],
    [1638259163326, 1067556578247.3119],
    [1638259469807, 1067556578247.3119],
    [1638259808478, 1068854353264.7719],
    [1638260006991, 1068854353264.7719],
    [1638260315352, 1067286254067.5243],
    [1638260643426, 1067286254067.5243],
    [1638260978985, 1067286254067.5243],
    [1638261295765, 1067320134764.4302],
    [1638261575312, 1069845453499.5422],
    [1638261784984, 1069845453499.5422],
    [1638262125904, 1076564817308.3313],
    [1638262412039, 1076564817308.3313],
    [1638262724143, 1076564817308.3313],
    [1638262995480, 1078216514278.3591],
    [1638263251707, 1078419660277.5375],
    [1638263561795, 1078419660277.5375],
    [1638263972179, 1073903896768.9114],
    [1638264301602, 1073903896768.9114],
    [1638264467354, 1069513879065.4927],
    [1638264852033, 1069513879065.4927],
    [1638264983000, 1069513879065.4927]
  ],
  total_volumes: [
    [1638178812927, 28838758887.71786],
    [1638178995252, 29443539244.761444],
    [1638179332223, 29422043682.785236],
    [1638179573758, 29427226273.975025],
    [1638179866370, 29387902455.68786],
    [1638180207487, 29568190883.24965],
    [1638180624310, 29135068926.59404],
    [1638180842741, 29824477800.51061],
    [1638181186462, 29957926951.429882],
    [1638181483682, 29973886699.849884],
    [1638181843807, 30156345030.380756],
    [1638182058071, 30275427905.98581],
    [1638182412289, 30419467913.082493],
    [1638182722761, 30427364337.9083],
    [1638182898914, 29756891532.505424],
    [1638183268847, 30338725614.45082],
    [1638183626302, 29736896642.558403],
    [1638183869610, 29697433143.675323],
    [1638184196435, 29637875853.469868],
    [1638184494403, 29647206852.338627],
    [1638184643596, 29619629417.783787],
    [1638185062468, 29621201297.849556],
    [1638185348065, 29617226250.399086],
    [1638185516294, 29644875862.777252],
    [1638185946242, 30260888276.790382],
    [1638186280547, 29674941021.370167],
    [1638186431075, 29675084850.14363],
    [1638186850789, 29613961618.66597],
    [1638187130934, 29644969392.599808],
    [1638187453175, 30211940402.260994],
    [1638187673274, 30168327562.691532],
    [1638188019621, 30184760844.04798],
    [1638188337980, 29475036315.817856],
    [1638188689098, 29645981855.996338],
    [1638188885379, 29720676730.678482],
    [1638189189020, 29727413363.725277],
    [1638189555626, 29674504070.77324],
    [1638189729686, 29827116820.0099],
    [1638190073939, 29850532596.730217],
    [1638190419265, 29826082379.300552],
    [1638190791658, 30454966948.4953],
    [1638190961726, 30461724417.191723],
    [1638191285098, 30470385263.716053],
    [1638191685153, 30519833318.38811],
    [1638191994800, 30637942399.518154],
    [1638192279001, 30666406715.680954],
    [1638192621488, 30648496515.133446],
    [1638192840494, 30660983469.815525],
    [1638193141079, 30106587776.184788],
    [1638193477622, 30779509399.623302],
    [1638193816713, 31058062915.44059],
    [1638194086004, 31084569578.647797],
    [1638194388230, 31128233443.254887],
    [1638194575604, 31420806633.045956],
    [1638194944052, 30859157862.447792],
    [1638195277672, 31463829860.261112],
    [1638195614181, 31470465781.615925],
    [1638195854118, 31473351625.124256],
    [1638196191212, 31473771242.410336],
    [1638196492547, 31453620872.573994],
    [1638196676906, 31408503215.819763],
    [1638197100749, 31410184406.966175],
    [1638197395427, 31394736517.799515],
    [1638197548502, 31377247592.644566],
    [1638197975268, 31429859849.680584],
    [1638198276554, 31408361765.8923],
    [1638198635080, 30937123692.58395],
    [1638198856297, 30735562379.85547],
    [1638199181869, 30790836050.65674],
    [1638199347508, 30778532578.527817],
    [1638199729422, 30883093898.38742],
    [1638200055645, 30880016127.489605],
    [1638200360969, 30962629391.08623],
    [1638200519821, 31572570780.55339],
    [1638201018503, 30986855800.097187],
    [1638201195412, 31011031512.21879],
    [1638201503291, 31753537976.0518],
    [1638201869763, 31739821029.71985],
    [1638202159166, 31762078234.083145],
    [1638202473190, 31599565147.085823],
    [1638202792571, 31440370219.945965],
    [1638203110138, 31408634461.199783],
    [1638203284495, 31414778390.141174],
    [1638203688155, 30805310961.540806],
    [1638203963502, 30844185594.197876],
    [1638204259893, 31455478964.306614],
    [1638204596241, 31479540554.034462],
    [1638204867173, 31508690435.31613],
    [1638205140877, 31562932570.81215],
    [1638205316996, 31657923352.870155],
    [1638205712710, 31708914602.854614],
    [1638205975021, 31915101222.223118],
    [1638206418900, 32418310853.069283],
    [1638206639412, 32804793084.62163],
    [1638206898882, 32863594480.18165],
    [1638207235821, 33143751747.628727],
    [1638207573240, 33227352255.88844],
    [1638207864906, 33294874285.45943],
    [1638208154711, 33407254863.845356],
    [1638208470125, 33346722051.544994],
    [1638208740756, 33360324241.940662],
    [1638208865556, 33367841662.546364],
    [1638209303595, 32670627296.3422],
    [1638209631758, 33377151006.23574],
    [1638209957186, 33129748945.72648],
    [1638210152717, 33213958428.17894],
    [1638210501883, 33940575417.030056],
    [1638210827628, 33906112842.955185],
    [1638211193020, 34070232171.80085],
    [1638211400860, 34074898927.845158],
    [1638211832238, 33351163494.09858],
    [1638212029118, 33236315295.385998],
    [1638212382126, 33647778874.239212],
    [1638212531910, 33620981392.905216],
    [1638212925467, 33067843835.347507],
    [1638213314515, 32843536637.826244],
    [1638213596993, 32855301799.606174],
    [1638213771087, 32870741318.31734],
    [1638214109044, 32905133205.86792],
    [1638214459760, 32891480590.1327],
    [1638214775865, 32925361206.479008],
    [1638214929040, 32906981516.84594],
    [1638215383211, 32794440654.183563],
    [1638215557970, 32801502882.447178],
    [1638215864609, 32832053078.585835],
    [1638216261698, 32856741538.806274],
    [1638216571484, 32909335422.06361],
    [1638216768397, 32937390747.923954],
    [1638217145092, 32418977648.592205],
    [1638217433306, 32444141096.75384],
    [1638217645000, 32455097033.881046],
    [1638218046106, 32512310555.8554],
    [1638218342910, 32499146546.603844],
    [1638218664453, 32542460475.437317],
    [1638218982782, 33213339728.259922],
    [1638219254229, 33174774308.016075],
    [1638219540638, 33139621428.69056],
    [1638219705138, 32432045076.88495],
    [1638220250925, 32861878928.746834],
    [1638220426179, 32846327558.239597],
    [1638220767672, 32863490488.98],
    [1638221085063, 32904185741.831375],
    [1638221390491, 32934628492.282757],
    [1638221575782, 32925131868.41971],
    [1638221912254, 32148529345.166462],
    [1638222163215, 32074322582.123898],
    [1638222501021, 32053051586.307583],
    [1638222846724, 32606747913.14036],
    [1638223110257, 32559838888.68122],
    [1638223453018, 31872532477.87638],
    [1638223792474, 32364337161.4442],
    [1638223967508, 32321524330.27654],
    [1638224262521, 32285373624.467567],
    [1638224637471, 31416706357.515057],
    [1638224967231, 31422742269.4508],
    [1638225323173, 31943974264.734352],
    [1638225524702, 31936197280.34044],
    [1638225812112, 31921775923.299854],
    [1638226248608, 31341234900.497097],
    [1638226454036, 31338335168.109024],
    [1638226755183, 31350521586.043697],
    [1638227066045, 31745801499.965336],
    [1638227260483, 31732889051.33752],
    [1638227616232, 31599449288.83195],
    [1638228051225, 31343812524.315025],
    [1638228250205, 31237291833.61227],
    [1638228570102, 30606966681.29268],
    [1638228869325, 30594093885.58156],
    [1638229048653, 30565291748.453167],
    [1638229401062, 30496817301.380295],
    [1638229693556, 30451315464.300194],
    [1638229980375, 30973189075.860977],
    [1638230317695, 30985196646.76598],
    [1638230667884, 30317921511.68041],
    [1638231009935, 30947680628.36843],
    [1638231227767, 30938507107.227222],
    [1638231565478, 31051017290.887394],
    [1638231837237, 31081462972.05781],
    [1638232178222, 31143441224.03031],
    [1638232542177, 31067626873.747585],
    [1638232812637, 31033261757.302525],
    [1638233015235, 30938490715.30237],
    [1638233369460, 30716649500.242214],
    [1638233689319, 30697139145.580547],
    [1638233954292, 30762109383.286713],
    [1638234119873, 30156741471.065666],
    [1638234529484, 30654501101.221886],
    [1638234799605, 30578271155.754066],
    [1638235066253, 30482136093.698635],
    [1638235468627, 30422484351.150265],
    [1638235728102, 30366700649.6799],
    [1638236075233, 30422561808.894287],
    [1638236289226, 30464363842.928036],
    [1638236573405, 30479979427.607773],
    [1638237004610, 30558967936.390835],
    [1638237184616, 30555215089.662872],
    [1638237623883, 29934554963.548508],
    [1638237790668, 29992608749.13484],
    [1638238162291, 30701089418.30397],
    [1638238477838, 30665064415.764206],
    [1638238769240, 30789006905.70651],
    [1638239105560, 30188900957.098114],
    [1638239295412, 30147846282.13755],
    [1638239623065, 30125265699.868618],
    [1638239951872, 30608222040.447716],
    [1638240140079, 30031090522.140705],
    [1638240587363, 29973095731.996098],
    [1638240751731, 29937710676.636456],
    [1638241249745, 29857444121.276],
    [1638241389012, 29809580798.47324],
    [1638241828542, 29613273146.133682],
    [1638242036885, 29628719177.685547],
    [1638242454104, 29497026628.377434],
    [1638242660169, 29489382668.718216],
    [1638242996437, 29981879667.84642],
    [1638243316327, 29950971049.416103],
    [1638243596021, 29904348134.893524],
    [1638243751379, 29846197226.135643],
    [1638244071826, 29835606797.375916],
    [1638244358602, 29855877333.6495],
    [1638244653056, 29954776059.68492],
    [1638245031310, 29917920116.586807],
    [1638245353909, 30128507741.173847],
    [1638245671919, 30142042478.01955],
    [1638245984392, 30151704300.44818],
    [1638246153176, 30157681530.04871],
    [1638246620697, 30098948573.58644],
    [1638246816564, 30108768197.123356],
    [1638247132623, 30089483321.362984],
    [1638247438511, 30059149083.132534],
    [1638247741445, 30077646871.79836],
    [1638248048180, 30035238658.432762],
    [1638248350946, 29531605191.1264],
    [1638248513167, 29528540049.42699],
    [1638248940017, 29895684385.06382],
    [1638249140620, 29903897251.986885],
    [1638249494378, 29808702627.278004],
    [1638249853242, 29756636027.56122],
    [1638250181044, 29738611945.72474],
    [1638250355326, 29749395912.424232],
    [1638250722404, 29772701021.304066],
    [1638251060824, 29789921902.809547],
    [1638251379288, 29793807978.814064],
    [1638251656150, 29840512710.91638],
    [1638251947740, 29831735275.467316],
    [1638252070176, 29861704983.368736],
    [1638252631153, 29912242725.310135],
    [1638252847729, 30011226440.59608],
    [1638253159415, 30086477340.866756],
    [1638253495849, 30139822988.93464],
    [1638253801172, 29695655225.860573],
    [1638254009827, 30433225534.55047],
    [1638254334257, 30484133643.347656],
    [1638254641588, 30499691787.704582],
    [1638254811837, 30509534345.21283],
    [1638255223715, 30536982883.104725],
    [1638255487686, 30540244531.392166],
    [1638255897103, 30581630016.061806],
    [1638256080188, 30601206518.83395],
    [1638256380158, 30679008437.315983],
    [1638256717814, 30642191511.646523],
    [1638257091354, 30640443573.967995],
    [1638257361532, 30654266523.209858],
    [1638257695535, 30620462733.375137],
    [1638258015241, 30585734148.530506],
    [1638258301336, 30558313939.815098],
    [1638258541248, 30534699312.519936],
    [1638258860751, 30515597409.040848],
    [1638259163326, 30590468361.983173],
    [1638259469807, 30616165653.212147],
    [1638259808478, 30808628998.202896],
    [1638260006991, 30241196035.108078],
    [1638260315352, 30228018380.619835],
    [1638260643426, 30250268489.367428],
    [1638260978985, 30901412784.77386],
    [1638261295765, 30342105747.726578],
    [1638261575312, 30997579037.968227],
    [1638261784984, 31021074410.099586],
    [1638262125904, 31263877367.76924],
    [1638262412039, 31509303010.699703],
    [1638262724143, 31637858752.168995],
    [1638262995480, 31586152890.015003],
    [1638263251707, 31703170914.715805],
    [1638263561795, 31749434828.001255],
    [1638263972179, 31111166970.835594],
    [1638264301602, 31137506329.97443],
    [1638264467354, 31670706045.63792],
    [1638264852033, 31652784019.54362],
    [1638264983000, 31675606158.344116]
  ]
};
